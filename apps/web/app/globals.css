/* =========================================================
   DARK — Patch v2 : tout texte sombre -> blanc (encore + large)
   - Couvre + de hex Tailwind (gris foncés), rgb, inline styles,
     pseudo-éléments et classes utilitaires.
   ========================================================= */

/* 0) Pseudo-éléments : ils héritent aussi du blanc */
html.dark *::before,
html.dark *::after {
  color: var(--text) !important;
}

/* 1) Hex courants des gris/”noirs” Tailwind -> blanc */
html.dark [style*="color:#111"],
html.dark [style*="color: #111"],
html.dark [style*="color:#111111"],
html.dark [style*="color: #111111"],
html.dark [style*="color:#0b0f14"],
html.dark [style*="color: #0b0f14"],
html.dark [style*="color:#0f172a"],
html.dark [style*="color: #0f172a"],
html.dark [style*="color:#111827"],
html.dark [style*="color: #111827"],
html.dark [style*="color:#1f2937"],
html.dark [style*="color: #1f2937"],
html.dark [style*="color:#374151"],
html.dark [style*="color: #374151"],
html.dark [style*="color:#475569"],
html.dark [style*="color: #475569"] {
  color: #fff !important;
}

/* 2) rgb() équivalents (ex: rgb(17,24,39) = #111827) -> blanc */
html.dark [style*="color:rgb(17,24,39)"],   /* #111827 */
html.dark [style*="color: rgb(17, 24, 39)"],
html.dark [style*="color:rgb(31,41,55)"],   /* #1f2937 */
html.dark [style*="color: rgb(31, 41, 55)"],
html.dark [style*="color:rgb(55,65,81)"],   /* #374151 */
html.dark [style*="color: rgb(55, 65, 81)"],
html.dark [style*="color:rgb(71,85,105)"],  /* #475569 */
html.dark [style*="color: rgb(71, 85, 105)"] {
  color: #fff !important;
}

/* 3) Classes utilitaires “foncées” -> blanc (au cas où libs les posent) */
html.dark .text-black,
html.dark .text-gray-900,
html.dark .text-gray-800,
html.dark .text-gray-700,
html.dark .text-slate-900,
html.dark .text-slate-800,
html.dark .text-slate-700,
html.dark .text-neutral-900,
html.dark .text-neutral-800,
html.dark .text-zinc-900,
html.dark .text-zinc-800,
html.dark .text-stone-900,
html.dark .text-stone-800 {
  color: #fff !important;
}

/* 4) Titres sous-scopés par des conteneurs spécifiques (plus de poids) */
html.dark .page-header h1,
html.dark .page-header .lead,
html.dark .section-head h2,
html.dark .card h3,
html.dark .card p,
html.dark .card li,
html.dark .badge,
html.dark .label {
  color: var(--text) !important;
}

/* 5) Liens restent verts, mais si posés dans surfaces vertes → voir patch précédent
      (on-accent / btn / btn-dash etc.). Si besoin, reforce ici : */
html.dark .on-accent,
html.dark .on-accent *,
html.dark .btn,
html.dark .btn *,
html.dark .btn-dash,
html.dark .btn-dash * {
  color: #fff !important;
}
